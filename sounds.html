<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sounds üîä</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>

    <nav>
        <div class="logo" onclick="triggerEasterEgg()">Crisis Kit üíÄ</div>
        <ul class="nav-links">
            <li><a href="index.html">Breathe</a></li>
            <li><a href="grounding.html">Grounding</a></li>
            <li><a href="sounds.html" class="active">Sounds</a></li>
            <li><a href="void.html">The Void</a></li>
            <li><a href="sos.html">SOS</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2>Sensory Blockers</h2>
        <p>The world is too loud. Drown it out.</p>

        <div class="card">
            <h3>üåß Rainy Mood</h3>
            <p>A heavy thunderstorm to wash away the stress.</p>
            <audio id="rain-audio" loop>
                <source src="rain.mp3" type="audio/mpeg">
            </audio>
            <button class="btn sound-btn" onclick="toggleSound('rain-audio', this)">‚ñ∂ Play Vibe</button>
        </div>

        <div class="card">
            <h3>‚òï Lo-Fi / Soft Piano</h3>
            <p>Gentle melody to reset your brain.</p>
            <audio id="lofi-audio" loop>
                <source src="lofi.mp3" type="audio/mpeg">
            </audio>
            <button class="btn sound-btn" onclick="toggleSound('lofi-audio', this)">‚ñ∂ Play Vibe</button>
        </div>
        
        <div class="card">
            <h3>üì∫ Brown Noise</h3>
            <p>Static sound to block out intrusive thoughts.</p>
            <audio id="noise-audio" loop>
                <source src="noise.mp3" type="audio/mpeg">
            </audio>
            <button class="btn sound-btn" onclick="toggleSound('noise-audio', this)">‚ñ∂ Play Vibe</button>
        </div>
    </div>

    <footer>
        <p id="streak-display">üî• Survival Streak: Loading...</p>
    </footer>
    
    <script>
        // Inline script override for the sounds page logic specifically
        function toggleSound(soundId, btn) {
            const audio = document.getElementById(soundId);
            
            // If the audio is currently paused, we want to play it
            if (audio.paused) {
                // 1. Pause all other audios first (Exclusive Play)
                document.querySelectorAll('audio').forEach(a => {
                    a.pause(); 
                    a.currentTime = 0; // Reset them to start
                });

                // 2. Reset all buttons to "Play" state
                document.querySelectorAll('.sound-btn').forEach(b => {
                    b.innerText = "‚ñ∂ Play Vibe";
                    b.classList.remove('dancing-btn');
                    b.style.borderColor = "var(--accent-color)";
                });

                // 3. Play the chosen audio
                audio.play();
                
                // 4. Update THIS button to "Pause" state
                btn.innerText = "‚è∏ Pause Vibe";
                btn.classList.add('dancing-btn'); // Add dancing animation
                btn.style.borderColor = "var(--hot-pink)";
            
            } else {
                // If it was already playing, just pause it
                audio.pause();
                btn.innerText = "‚ñ∂ Play Vibe";
                btn.classList.remove('dancing-btn'); // Stop dancing
                btn.style.borderColor = "var(--accent-color)";
            }
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
